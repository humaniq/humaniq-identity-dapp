(this["webpackJsonphumaniq-identuty-dapp"]=this["webpackJsonphumaniq-identuty-dapp"]||[]).push([[0],{197:function(e){e.exports=JSON.parse('{"appName":"Humaniq Identity dAPP","firstName":"First name","lastName":"Last name","update":"Update","profileUpdate":"Profile Update","yourProfile":"Your Profile","country":"Country","city":"City","birthDate":"Birth Date","changeAvatar":"Change Avatar","loading":"Loading...","notAllowed":"Not allowed. Sorry...","walletNotConnected":"Seems like your Wallet not connected","connectWallet":"Connect your Wallet with this dApp","emptyField":"Field cannot be empty"}')},207:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(27),i=n(10),a=n(9),c=n(16),o=n.n(c),s=n(13),u=n(37),l=new(Object(i.a)((function t(){var n=this;Object(a.a)(this,t),this.initialized=!1,this.currentAccount=null,this.hasProvider=!1,this.init=Object(r.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.a.info("starting connection..."),!window.ethereum){e.next=18;break}return n.hasProvider=!0,window.ethereum.on("accountsChanged",(function(e){n.currentAccount=e[0]})),window.ethereum.on("disconnect",(function(){n.currentAccount=null})),window.ethereum.on("connect",(function(e){n.currentAccount=e[0]})),window.ethereum.on("message",(function(e){u.a.info("message",e)})),e.prev=7,e.next=10,window.ethereum.request({method:"eth_requestAccounts"});case 10:t=e.sent,n.currentAccount=t[0],e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),u.a.info("ERROR",e.t0);case 17:u.a.info("starting successful...");case 18:n.initialized=!0,u.a.info("starting failed...");case 20:case"end":return e.stop()}}),e,null,[[7,14]])}))),this.personalMessageRequest=function(t){return window.ethereum?window.ethereum.request({method:"personal_sign",params:["0x".concat(e.from(t,"utf-8").toString("hex")),n.currentAccount]}):null},this.connect=Object(r.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum&&(null===(t=window.ethereum)||void 0===t||!t.currentAccount)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,window.ethereum.request({method:"eth_requestAccounts"});case 5:r=e.sent,n.currentAccount=r[0],e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),u.a.info("ERROR",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),Object(s.m)(this,void 0,{autoBind:!0})})))}).call(this,n(24).Buffer)},216:function(e,t,n){},221:function(e,t){},224:function(e,t){},234:function(e,t){},235:function(e,t){},266:function(e,t){},268:function(e,t){},279:function(e,t){},281:function(e,t){},294:function(e,t){},296:function(e,t){},37:function(e,t,n){"use strict";var r=n(9),i=n(10),a=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,null,[{key:"log",value:function(e){console.log(e)}},{key:"debug",value:function(e){console.debug(e)}},{key:"error",value:function(e,t){console.error(e,t)}},{key:"info",value:function(e){console.info(e)}},{key:"warning",value:function(e){console.warn(e)}}]),e}();t.a=a},413:function(e,t,n){},414:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(42),a=n.n(i),c=(n(216),n(57)),o=n(94),s=n(196),u=n(197);c.a.use(s.a).use(o.e).init({resources:{en:{translation:u}}}),c.a.changeLanguage("en");var l=n(27),h=n(16),f=n.n(h),p=n(421),b=n(120),d=n(423),j={primary:"#0066DA",error:"#F44336",success:"#4CAF50",warning:"#FD9900",blueOcean:"#001833",textGrey:"#9B9B9B",bg:"#F5FAFF",white:"#FFFFFF",grey:"#E0E0E0",greyLight:"#F2F3F6"},m=n(198);function O(e){if(!e)return e;var t=Object(m.toChecksumAddress)(e);return t?"".concat(t.slice(0,4),"...").concat(t.substring(t.length-4)):""}var g=n(8),y=function(){var e=Object(d.a)().t;return Object(g.jsxs)(p.a.Header,{style:{textAlign:"center",backgroundColor:j.primary,color:j.white,justifyContent:"space-between",display:"flex",alignItems:"center"},children:[Object(g.jsx)("span",{style:{fontSize:22},children:e("appName")}),Object(g.jsx)(b.a,{type:"primary",disabled:!me.hasProvider,onClick:Object(l.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(me.currentAccount){e.next=3;break}return e.next=3,me.connect();case 3:case"end":return e.stop()}}),e)}))),children:O(me.currentAccount)||"not connected"})]})},v=n(83),x=n.n(v),w=function(){return Object(g.jsx)(p.a.Footer,{style:{textAlign:"center",backgroundColor:j.bg},children:Object(g.jsxs)("span",{children:["Humaniq dApps React Boilerplate \xa9 ",x()().year()]})})},E=n(210),N=n(15),C=n(119),A=n(418),F=n(424),k=n(417),D=n(419),P=n(422),R=n(420),T={borderWidth:1,borderColor:j.error},I=function(e){var t=e.title,n=e.input,r=e.onChange,i=e.error;return Object(g.jsxs)(F.b,{direction:"vertical",align:"baseline",children:[Object(g.jsx)(D.a.Text,{children:t}),Object(g.jsx)(R.a,{size:"large",onChange:function(e){return r(e.target.value)},value:n,style:i?T:{}}),i&&Object(g.jsx)(D.a.Text,{style:{color:j.error},children:i})]})},S=n(10),_=n(9),B=n(13),U=n(37),L=n(124),W=n(125),q=(n(380),function(e){return"string"!==typeof e||""===e.trim()}),z=n(204),G=n.n(z),M="https://signupbot.humaniq.com/api/v1",H={POST_SIGNUP_CHECK:"/introspect/signup/check",POST_SIGNUP_CONFIRM:"/introspect/signup/confirm",GET_SIGNUP_OBJECT:"/introspect/signup/object/:uid",GET_SIGNUP_PHOTO:"/introspect/signup/photo/:uid",GET_SIGNUP_WALLET:"/introspect/signup/wallet/:wallet"},Y={POST_PROFILE_UPDATE:"/dapp/profile/update"};function J(e,t){var n=/\*{1,2}/g,r=/_!slash!_/g,i={};if(t){var a=function(a){if(t.hasOwnProperty(a)){var c=t[a];if("splat"===a){l=c,c="[object Array]"!==Object.prototype.toString.call(l)?[l]:l;var o=0;e=e.replace(n,(function(e){var t=c[o++];if(null==t)return"";var n="splat".concat(o);return i[n]="*"===e?encodeURIComponent(t):encodeURIComponent(t.toString().replace(/\//g,"_!slash!_")).replace(r,"/"),"<".concat(n,">")}))}else{var s=new RegExp("(/|\\(|\\)|^):"+a+"(/|\\)|\\(|$)");e=e.replace(s,(function(e,t,n){return i[a]=encodeURIComponent(c),"".concat(t,"<").concat(a,">").concat(n)}));var u=new RegExp("(.*):"+a+"\\?(.*)");e=e.replace(u,(function(e,t,n){return i[a]=encodeURIComponent(c),"".concat(t,"<").concat(a,">").concat(n)}))}}var l};for(var c in t)a(c)}return e.replace(/\(([^:*?#]+?)\)/g,"$1").replace(/\([^:?#]*:[^?#]*?\)/g,"").replace(/(\/[^\/]*\?)/g,"").replace(/<(.*?)>/g,(function(e,t){return i[t]})).replace(/\/+/g,"/").replace(/\/+$/,"").replace(/^$/,"/")}var $,V,Z,K,X,Q,ee=Object(S.a)((function e(){var t=this;Object(_.a)(this,e),this.axios=void 0,this.init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.axios=G.a.create({baseURL:e,headers:n})},this.get=function(){var e=Object(l.a)(f.a.mark((function e(n,r,i){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.axios.get(J(n,r),i));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),this.post=function(){var e=Object(l.a)(f.a.mark((function e(n,r,i,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.axios.post(i?J(n,i):n,r,a));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()})),te=new($=function(){function e(){var t=this;Object(_.a)(this,e),this.firstName="",this.lastName="",this.country="",this.city="",this.birthDate="",this.firstNameError=void 0,this.lastNameError=void 0,this.countryError=void 0,this.cityError=void 0,this.birthDateError=void 0,this.hmqIDCode="",this.avatar="",this.isFetching=!1,this.api=void 0,this.setFirstName=function(e){t.firstNameError=void 0,t.firstName=e},this.setLastName=function(e){t.lastNameError=void 0,t.lastName=e},this.setCountry=function(e){t.countryError=void 0,t.country=e},this.setCity=function(e){t.cityError=void 0,t.city=e},this.setBirthDate=function(e){t.birthDateError=void 0,t.birthDate=e},this.fetchProfile=Object(l.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isFetching=!0,e.prev=1,e.next=4,t.api.get(H.GET_SIGNUP_WALLET,{wallet:me.currentAccount});case 4:n=e.sent,console.log(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),U.a.info("ERROR",e.t0);case 12:return e.prev=12,e.finish(12);case 14:U.a.info("fetching profile..."),setTimeout((function(){Object(B.p)((function(){t.isFetching=!1})),U.a.info("fetching profile... done")}),3e3);case 16:case"end":return e.stop()}}),e,null,[[1,9,12,14]])}))),Object(L.a)(this,"onSubmit",V,this),Object(L.a)(this,"setProfileUser",Z,this),Object(L.a)(this,"onReset",K,this),this.isAnyFieldEmpty=function(){return q(t.firstName)||q(t.lastNameError)||q(t.country)||q(t.city)||q(t.birthDate)},Object(B.m)(this),this.api=new ee,this.api.init(M,{"x-auth-token":"XMaLhU75ZFklvAiV7yBZBNnlWsE9IowU"})}return Object(S.a)(e,[{key:"getBirthDate",get:function(){return q(this.birthDate)?x()():x()(this.birthDate)}},{key:"buttonDisabled",get:function(){return this.isAnyFieldEmpty()}}]),e}(),V=Object(W.a)($.prototype,"onSubmit",[B.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(l.a)(f.a.mark((function t(){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(q(e.firstName)&&(e.firstNameError=Object(c.b)("emptyField")),q(e.lastName)&&(e.lastNameError=Object(c.b)("emptyField")),q(e.country)&&(e.countryError=Object(c.b)("emptyField")),q(e.city)&&(e.cityError=Object(c.b)("emptyField")),q(e.birthDate)&&(e.birthDateError=Object(c.b)("emptyField")),!e.isAnyFieldEmpty()){t.next=7;break}return t.abrupt("return");case 7:return t.prev=7,n=(new Date).getTime(),r="ADDRESS ".concat(me.currentAccount," UPDATE PERSONAL INFO TIMESTAMP ").concat(n),U.a.info("Personal message: ",r),t.next=13,me.personalMessageRequest(r);case 13:if(!t.sent){t.next=28;break}return console.log("here"),t.prev=16,t.next=19,e.api.post(Y.POST_PROFILE_UPDATE,{});case 19:t.sent,t.next=26;break;case 23:t.prev=23,t.t0=t.catch(16),U.a.info("ERROR",t.t0);case 26:return t.prev=26,t.finish(26);case 28:t.next=33;break;case 30:t.prev=30,t.t1=t.catch(7),U.a.info(t.t1);case 33:case"end":return t.stop()}}),t,null,[[7,30],[16,23,26,28]])})))}}),Z=Object(W.a)($.prototype,"setProfileUser",[B.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.firstName=t.firstName,e.lastName=t.lastName,e.country=t.country,e.city=t.city,e.birthDate=t.birthDate,e.avatar=t.avatar}}}),K=Object(W.a)($.prototype,"onReset",[B.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.firstName="",e.lastName="",e.country="",e.city="",e.birthDate="",e.hmqIDCode=""}}}),$),ne=Object(S.a)((function e(){var t=this;Object(_.a)(this,e),this.galleryRef=void 0,this.init=function(){var e=Object(l.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.galleryRef=n,e.next=3,te.fetchProfile();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.openFileExplorer=function(){var e,n;null===(e=t.galleryRef)||void 0===e||null===(n=e.current)||void 0===n||n.click()},this.onFileChoose=function(e){e.preventDefault();var t=e.target.files[0];U.a.log("file...",t)},Object(B.m)(this,{},{autoBind:!0})})),re=n(205),ie=n.n(re),ae=n(208),ce=(n(415),Object(ae.b)(ie.a)),oe=n(56),se=n(3),ue=(X=ne,Q=Object(C.a)((function(e){var t=e.store,n=Object(d.a)().t,i=Object(r.useRef)();return Object(r.useEffect)((function(){Object(l.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.init(i);case 2:case"end":return e.stop()}}),e)})))()}),[]),te.isFetching?Object(g.jsx)(A.a,{style:{display:"flex",flex:1,alignItems:"center",justifyContent:"center",minWidth:300,borderWidth:0},children:Object(g.jsxs)(F.b,{direction:"horizontal",children:[Object(g.jsx)(k.a,{}),Object(g.jsx)(D.a.Title,{level:3,children:n("loading")})]})}):Object(g.jsx)(oe.a,{children:Object(g.jsx)(A.a,{style:{textAlign:"center",marginBottom:24,borderWidth:0},children:Object(g.jsxs)(F.b,{direction:"vertical",children:[Object(g.jsx)(D.a.Title,{level:1,children:n("yourProfile")}),Object(g.jsx)(P.a,{size:100,src:te.avatar}),Object(g.jsx)("input",{onChange:t.onFileChoose,accept:"image/*",type:"file",id:"file",ref:i,style:{display:"none"}}),Object(g.jsx)(b.a,{onClick:t.openFileExplorer,size:"small",style:{marginBottom:20},children:n("changeAvatar")}),Object(g.jsx)(I,{title:n("firstName"),input:te.firstName,onChange:te.setFirstName,error:te.firstNameError}),Object(g.jsx)(I,{title:n("lastName"),input:te.lastName,onChange:te.setLastName,error:te.lastNameError}),Object(g.jsx)(I,{title:n("country"),input:te.country,onChange:te.setCountry,error:te.countryError}),Object(g.jsx)(I,{title:n("city"),input:te.city,onChange:te.setCity,error:te.cityError}),Object(g.jsxs)(F.b,{direction:"vertical",size:12,children:[Object(g.jsx)(D.a.Text,{children:n("birthDate")}),Object(g.jsx)(ce,{onChange:function(e,t){te.setBirthDate(t)},style:te.birthDateError?{borderWidth:1,borderColor:j.error}:{},defaultValue:te.getBirthDate,format:"DD.MM.YYYY"})]}),Object(g.jsx)(b.a,{onClick:te.onSubmit,size:"large",style:{marginTop:30,width:"100%"},type:"primary",children:n("update")})]})})})})),function(e){var t=Object.assign({},e),n=Object(r.useMemo)((function(){return new X}),[]);return Object(g.jsx)(Q,Object(se.a)({store:n},t))}),le=(n(412),n(413),{home:{path:"/"}}),he=function(){return Object(g.jsx)("div",{className:"home-card"})},fe=n(24),pe=n.n(fe),be=function(e){var t=e.onClick,n=Object(d.a)().t;return Object(g.jsxs)(p.a,{style:{textAlign:"center",display:"flex",flex:1,alignItems:"center",justifyContent:"center",minWidth:300,marginBottom:24,borderWidth:0,marginRight:30,marginLeft:30},children:[Object(g.jsx)(D.a.Title,{level:3,children:n("walletNotConnected")}),Object(g.jsx)(b.a,{onClick:t,size:"large",style:{marginTop:30,width:"100%",height:60},type:"primary",children:n("connectWallet")})]})},de=function(){var e=Object(d.a)().t;return Object(g.jsx)(p.a,{style:{display:"flex",flex:1,alignItems:"center",justifyContent:"center",minWidth:300,marginBottom:24,borderWidth:0},children:Object(g.jsx)(D.a.Title,{level:3,children:e("notAllowed")})})},je=n(207);window.Buffer=pe.a.Buffer;var me=je.a,Oe=Object(C.a)((function(){return Object(r.useEffect)((function(){Object(l.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.init();case 2:case"end":return e.stop()}}),e)})))()}),[]),Object(g.jsxs)(p.a,{className:"App",children:[Object(g.jsx)(y,{}),me.initialized?Object(g.jsx)(g.Fragment,{children:me.hasProvider?Object(g.jsx)(g.Fragment,{children:me.currentAccount?Object(g.jsx)(E.a,{children:Object(g.jsxs)(N.c,{children:[Object(g.jsx)(N.a,{path:le.home.path,element:Object(g.jsx)(ue,{})}),Object(g.jsx)(N.a,{path:"*",element:Object(g.jsx)(he,{})})]})}):Object(g.jsx)(be,{onClick:me.connect})}):Object(g.jsx)(de,{})}):null,Object(g.jsx)(w,{})]})}));Object(B.g)({enforceActions:"never"}),a.a.render(Object(g.jsx)(Oe,{}),document.getElementById("root"))}},[[414,1,2]]]);
//# sourceMappingURL=main.3159fe80.chunk.js.map